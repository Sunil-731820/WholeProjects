package QuestionAnswer;

import java.io.FileInputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.SequenceInputStream;
import java.util.Vector;

public class AnotherWayToAddMultipleIntoSingleFile {
	 public static void main(String[] args) throws IOException {
		 
         String file1 ="C:\\Users\\sunilg\\Desktop\\solutionof10Files\\a1.txt";
         String file2 ="C:\\Users\\sunilg\\Desktop\\solutionof10Files\\a2.txt";
         String file3 ="C:\\Users\\sunilg\\Desktop\\solutionof10Files\\a3.txt";
         
         InputStream fis1 = new FileInputStream(file1);
         InputStream fis2 = new FileInputStream(file2);
         InputStream fis3 = new FileInputStream(file3);

         //Create vector which will be used to hold multiple inputStreams
         Vector<InputStream> inputStreams = new Vector<>();
         inputStreams.add(fis1);
         inputStreams.add(fis2);
         inputStreams.add(fis3);

         //Now add inputStreams.elements() to the Vector,
         //inputStreams.elements() will return Enumerations
         InputStream sis =
          new SequenceInputStream(inputStreams.elements());
          
         System.out.println("Reading data from multiple files using SequenceInputStream");

         int ch;
         while ((ch = sis.read()) != -1) { // read till end of file of both files
                System.out.print((char) ch);
         }

         sis.close(); // closing SequenceInputStream
                                    //will close fis1, fis2 and fis3 as well
  }

}
